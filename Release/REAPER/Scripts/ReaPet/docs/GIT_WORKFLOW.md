# ReaPet Git å·¥ä½œæµç¨‹æŒ‡å—

> æœ€åæ›´æ–°ï¼š2025-12-24

## ğŸ“Š å½“å‰åˆ†æ”¯ç»“æ„

```
main                          # ç¨³å®šç‰ˆæœ¬ï¼ˆå‘å¸ƒç‰ˆæœ¬ï¼‰
â”œâ”€â”€ develop                   # å¼€å‘åˆ†æ”¯ï¼ˆæ—¥å¸¸å¼€å‘ï¼‰
â”‚   â”œâ”€â”€ release/v1.0.0        # å‘å¸ƒåˆ†æ”¯ï¼ˆå½“å‰ï¼‰
â”‚   â””â”€â”€ feature/*            # åŠŸèƒ½åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ backup/*                 # å¤‡ä»½åˆ†æ”¯
```

## ğŸ¯ æ¨èçš„å·¥ä½œæµç¨‹ï¼ˆç®€åŒ–ç‰ˆï¼‰

### æ–¹æ¡ˆ Aï¼šç®€åŒ–æµç¨‹ï¼ˆæ¨èä¸ªäººé¡¹ç›®ï¼‰

**åˆ†æ”¯ç»“æ„**ï¼š
- `main` - ç¨³å®šç‰ˆæœ¬ï¼Œéšæ—¶å¯å‘å¸ƒ
- `develop` - å¼€å‘åˆ†æ”¯ï¼Œæ—¥å¸¸å¼€å‘

**å·¥ä½œæµç¨‹**ï¼š
```
æ—¥å¸¸å¼€å‘ï¼š
  develop â†’ å¼€å‘æ–°åŠŸèƒ½ â†’ æµ‹è¯• â†’ æäº¤åˆ° develop

å‘å¸ƒç‰ˆæœ¬ï¼š
  develop â†’ åˆå¹¶åˆ° main â†’ æ‰“ tag â†’ æ¨é€
```

**ä¼˜ç‚¹**ï¼š
- âœ… ç®€å•ç›´æ¥ï¼Œé€‚åˆä¸ªäººé¡¹ç›®
- âœ… ç»´æŠ¤æˆæœ¬ä½
- âœ… å‘å¸ƒæµç¨‹å¿«é€Ÿ

**ç¼ºç‚¹**ï¼š
- âš ï¸ å‘å¸ƒå‰éœ€è¦åœ¨ develop ä¸Šåšæ¸…ç†å·¥ä½œ
- âš ï¸ å¦‚æœ develop æœ‰æœªå®Œæˆçš„åŠŸèƒ½ï¼Œéœ€è¦å…ˆå¤„ç†

### æ–¹æ¡ˆ Bï¼šå¸¦ Release åˆ†æ”¯ï¼ˆæ¨èå›¢é˜Ÿé¡¹ç›®ï¼‰

**åˆ†æ”¯ç»“æ„**ï¼š
- `main` - ç¨³å®šç‰ˆæœ¬
- `develop` - å¼€å‘åˆ†æ”¯
- `release/*` - å‘å¸ƒåˆ†æ”¯ï¼ˆä¸´æ—¶ï¼Œå‘å¸ƒååˆ é™¤ï¼‰

**å·¥ä½œæµç¨‹**ï¼š
```
æ—¥å¸¸å¼€å‘ï¼š
  develop â†’ å¼€å‘æ–°åŠŸèƒ½ â†’ æµ‹è¯• â†’ æäº¤åˆ° develop

å‡†å¤‡å‘å¸ƒï¼š
  develop â†’ åˆ›å»º release/v1.0.0 â†’ æ¸…ç†å’Œæµ‹è¯• â†’ åˆå¹¶åˆ° main â†’ æ‰“ tag â†’ åˆ é™¤ release åˆ†æ”¯

å‘å¸ƒåç»§ç»­å¼€å‘ï¼š
  main â†’ åˆå¹¶å› developï¼ˆä¿æŒåŒæ­¥ï¼‰â†’ ç»§ç»­å¼€å‘
```

**ä¼˜ç‚¹**ï¼š
- âœ… å‘å¸ƒå‰å¯ä»¥åœ¨ release åˆ†æ”¯ä¸Šåšæœ€åçš„æ¸…ç†å’Œæµ‹è¯•
- âœ… develop å¯ä»¥ç»§ç»­å¼€å‘æ–°åŠŸèƒ½ï¼Œä¸é˜»å¡
- âœ… å‘å¸ƒæµç¨‹æ›´è§„èŒƒ

**ç¼ºç‚¹**ï¼š
- âš ï¸ éœ€è¦ç»´æŠ¤æ›´å¤šåˆ†æ”¯
- âš ï¸ éœ€è¦è®°å¾—åˆå¹¶å› develop

## ğŸ’¡ é’ˆå¯¹ ReaPet çš„å»ºè®®

### å½“å‰çŠ¶æ€åˆ†æ

1. **`main`** - å¯èƒ½æ¯”è¾ƒæ—§ï¼Œéœ€è¦æ›´æ–°
2. **`develop`** - æœ‰æœ€æ–°çš„å¼€å‘ä»£ç 
3. **`release/v1.0.0`** - å·²å®Œæˆæ¸…ç†å·¥ä½œï¼Œå‡†å¤‡å‘å¸ƒ

### æ¨èæ–¹æ¡ˆï¼šç®€åŒ–æµç¨‹ + ä¸´æ—¶ Release åˆ†æ”¯

**ç†ç”±**ï¼š
- ä½ æ˜¯ä¸ªäººå¼€å‘è€…ï¼Œä¸éœ€è¦å¤æ‚çš„æµç¨‹
- ä½†ç¬¬ä¸€æ¬¡å‘å¸ƒéœ€è¦æ¸…ç†å·¥ä½œï¼Œæ‰€ä»¥ä½¿ç”¨ release åˆ†æ”¯æ˜¯åˆç†çš„
- åç»­å‘å¸ƒå¯ä»¥ç›´æ¥ä» develop åˆå¹¶åˆ° main

## ğŸš€ å…·ä½“æ“ä½œæ­¥éª¤

### ç¬¬ä¸€æ¬¡å‘å¸ƒï¼ˆå½“å‰ï¼‰

```bash
# 1. å½“å‰åœ¨ release/v1.0.0ï¼Œå·²å®Œæˆæ¸…ç†
git checkout release/v1.0.0

# 2. æœ€åæµ‹è¯•ï¼Œç¡®ä¿ä¸€åˆ‡æ­£å¸¸
# ï¼ˆè¿è¡Œè„šæœ¬ï¼Œæµ‹è¯•åŠŸèƒ½ï¼‰

# 3. åˆå¹¶åˆ° main
git checkout main
git merge release/v1.0.0 --no-ff -m "Release v1.0.0"
git tag v1.0.0

# 4. åˆå¹¶å› developï¼ˆä¿æŒåŒæ­¥ï¼‰
git checkout develop
git merge main --no-ff -m "Sync develop with v1.0.0"

# 5. æ¨é€æ‰€æœ‰æ›´æ”¹
git push origin main
git push origin develop
git push origin v1.0.0

# 6. åˆ é™¤ release åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
git branch -d release/v1.0.0
git push origin --delete release/v1.0.0
```

### åç»­å¼€å‘æµç¨‹

```bash
# 1. åœ¨ develop åˆ†æ”¯å¼€å‘
git checkout develop

# 2. å¼€å‘æ–°åŠŸèƒ½
# ... ç¼–å†™ä»£ç  ...

# 3. æäº¤æ›´æ”¹
git add .
git commit -m "Add new feature"
git push origin develop

# 4. æµ‹è¯•åŠŸèƒ½
# ... æµ‹è¯• ...

# 5. å¦‚æœåŠŸèƒ½å®Œæˆä¸”ç¨³å®šï¼Œåˆå¹¶åˆ° main
git checkout main
git merge develop --no-ff -m "Release v1.1.0"
git tag v1.1.0
git push origin main
git push origin v1.1.0

# 6. ç»§ç»­åœ¨ develop å¼€å‘
git checkout develop
```

### éœ€è¦æ¸…ç†æ—¶ï¼ˆå¤§ç‰ˆæœ¬å‘å¸ƒï¼‰

```bash
# 1. åˆ›å»º release åˆ†æ”¯
git checkout develop
git checkout -b release/v2.0.0

# 2. æ¸…ç†å·¥ä½œï¼ˆå½’æ¡£æ–‡æ¡£ã€ç§»é™¤å¼€å‘å·¥å…·ç­‰ï¼‰
# ... æ‰§è¡Œæ¸…ç† ...

# 3. æäº¤æ¸…ç†æ›´æ”¹
git add .
git commit -m "Prepare for v2.0.0 release"

# 4. æµ‹è¯•
# ... æµ‹è¯• ...

# 5. åˆå¹¶åˆ° main
git checkout main
git merge release/v2.0.0 --no-ff -m "Release v2.0.0"
git tag v2.0.0

# 6. åˆå¹¶å› develop
git checkout develop
git merge main --no-ff -m "Sync develop with v2.0.0"

# 7. åˆ é™¤ release åˆ†æ”¯
git branch -d release/v2.0.0
```

## ğŸ“‹ åˆ†æ”¯å‘½åè§„èŒƒ

- **ä¸»åˆ†æ”¯**ï¼š`main`, `develop`
- **å‘å¸ƒåˆ†æ”¯**ï¼š`release/v1.0.0`, `release/v2.0.0`
- **åŠŸèƒ½åˆ†æ”¯**ï¼š`feature/feature-name`ï¼ˆå¯é€‰ï¼‰
- **ä¿®å¤åˆ†æ”¯**ï¼š`hotfix/bug-name`ï¼ˆç´§æ€¥ä¿®å¤æ—¶ä½¿ç”¨ï¼‰
- **å¤‡ä»½åˆ†æ”¯**ï¼š`backup/description`

## âœ… æœ€ä½³å®è·µ

1. **ä¿æŒ develop å’Œ main åŒæ­¥**
   - æ¯æ¬¡å‘å¸ƒåï¼Œå°† main åˆå¹¶å› develop
   - ç¡®ä¿ develop å§‹ç»ˆåŒ…å« main çš„æ‰€æœ‰æ›´æ”¹

2. **ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯**
   ```bash
   git commit -m "Add new skin: koala_base"
   git commit -m "Fix: data loss on project switch"
   git commit -m "Refactor: optimize coin effect rendering"
   ```

3. **å®šæœŸæ¨é€**
   - å¼€å‘å®ŒæˆååŠæ—¶æ¨é€
   - é¿å…æœ¬åœ°ç§¯å‹å¤ªå¤šæœªæ¨é€çš„æäº¤

4. **ä½¿ç”¨ Tag æ ‡è®°ç‰ˆæœ¬**
   ```bash
   git tag v1.0.0
   git tag v1.1.0
   git push origin --tags
   ```

5. **æ¸…ç†æ—§åˆ†æ”¯**
   - åŠŸèƒ½å®Œæˆååˆ é™¤ feature åˆ†æ”¯
   - å‘å¸ƒå®Œæˆååˆ é™¤ release åˆ†æ”¯

## ğŸ¯ æ€»ç»“

**æ¨èæµç¨‹**ï¼š
- âœ… **æ—¥å¸¸å¼€å‘**ï¼šåœ¨ `develop` åˆ†æ”¯
- âœ… **å°ç‰ˆæœ¬å‘å¸ƒ**ï¼šç›´æ¥ä» `develop` åˆå¹¶åˆ° `main`
- âœ… **å¤§ç‰ˆæœ¬å‘å¸ƒ**ï¼šåˆ›å»º `release/*` åˆ†æ”¯åšæ¸…ç†ï¼Œç„¶ååˆå¹¶åˆ° `main`
- âœ… **å‘å¸ƒå**ï¼šå°† `main` åˆå¹¶å› `develop`ï¼Œä¿æŒåŒæ­¥

**ä¸éœ€è¦ release åˆ†æ”¯çš„æƒ…å†µ**ï¼š
- å°åŠŸèƒ½æ›´æ–°
- Bug ä¿®å¤
- ä¸éœ€è¦æ¸…ç†çš„å‘å¸ƒ

**éœ€è¦ release åˆ†æ”¯çš„æƒ…å†µ**ï¼š
- å¤§ç‰ˆæœ¬å‘å¸ƒï¼ˆv1.0.0, v2.0.0ï¼‰
- éœ€è¦æ¸…ç†å¼€å‘æ–‡æ¡£ã€å·¥å…·
- éœ€è¦æ›´æ–° READMEã€æ–‡æ¡£ç»“æ„

---

**å½“å‰å»ºè®®**ï¼š
1. å®Œæˆ `release/v1.0.0` çš„æµ‹è¯•
2. åˆå¹¶åˆ° `main` å¹¶æ‰“ tag
3. åˆå¹¶å› `develop` ä¿æŒåŒæ­¥
4. åç»­å¼€å‘ç»§ç»­åœ¨ `develop` è¿›è¡Œ
5. å°ç‰ˆæœ¬ç›´æ¥ä» `develop` åˆå¹¶åˆ° `main`
6. å¤§ç‰ˆæœ¬å†åˆ›å»º `release/*` åˆ†æ”¯

